/* Gallery Styles - Grid Layout */

.gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(295px, 1fr));
    gap: 20px;
}

.gallery__card {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    background: var(--bg-card);
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    aspect-ratio: 1;
}

/* Hover effects only for devices that support hover */
@media (hover: hover) {
    .gallery__card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    }

    .gallery__card:hover .gallery__delete-btn {
        opacity: 1;
    }

    .gallery__card:hover .gallery__image {
        transform: scale(1.05);
    }
}

/* Mobile/Touch optimizations - Always show controls or handle differently */
@media (hover: none) {
    .gallery__delete-btn {
        opacity: 1; /* Always visible on touch */
        background: rgba(0, 0, 0, 0.6); /* Slightly darker for visibility */
    }
    
    .gallery__card:active {
        transform: scale(0.98);
    }
}

/* Image */
.gallery__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.3s ease;
}

/* Overlay - Hidden by default, only show delete on hover */
.gallery__overlay {
    display: none;
}

/* Placeholder Card with Smooth Shimmer */
.gallery__placeholder {
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    isolation: isolate;
    /* High-tech gold shimmer base */
    background:
        radial-gradient(120% 90% at 20% 10%, rgba(255, 215, 0, 0.16) 0%, rgba(255, 215, 0, 0.0) 55%),
        radial-gradient(120% 90% at 80% 90%, rgba(255, 193, 7, 0.10) 0%, rgba(255, 193, 7, 0.0) 55%),
        /* subtle circuit grid */
        repeating-linear-gradient(0deg,
            rgba(255, 215, 0, 0.05) 0px,
            rgba(255, 215, 0, 0.05) 1px,
            transparent 1px,
            transparent 10px),
        repeating-linear-gradient(90deg,
            rgba(255, 215, 0, 0.04) 0px,
            rgba(255, 215, 0, 0.04) 1px,
            transparent 1px,
            transparent 12px),
        linear-gradient(135deg, #1a1408 0%, #2b220f 45%, #1a1408 100%);
    aspect-ratio: 1;
    border: 1px solid rgba(255, 215, 0, 0.12);
    box-shadow:
        0 10px 28px rgba(0, 0, 0, 0.16),
        inset 0 0 0 1px rgba(255, 215, 0, 0.06),
        inset 0 0 28px rgba(255, 215, 0, 0.05);
    animation: techIdle 2.6s ease-in-out infinite;
}

.gallery__placeholder::before {
    content: '';
    position: absolute;
    inset: 0;
    transform: translateX(-120%) rotate(10deg);
    /* scanning beam + scanlines */
    background:
        repeating-linear-gradient(
            0deg,
            rgba(255, 215, 0, 0.0) 0px,
            rgba(255, 215, 0, 0.0) 6px,
            rgba(255, 215, 0, 0.05) 7px,
            rgba(255, 215, 0, 0.0) 8px
        ),
        linear-gradient(105deg,
            transparent 35%,
            rgba(255, 215, 0, 0.10) 44%,
            rgba(255, 215, 0, 0.28) 50%,
            rgba(255, 193, 7, 0.14) 56%,
            transparent 68%);
    mix-blend-mode: screen;
    filter: blur(0.2px);
    animation: shimmerTech 1.65s ease-in-out infinite;
}

.gallery__placeholder::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 46px;
    height: 46px;
    margin: -23px 0 0 -23px;
    border-radius: 50%;
    background:
        conic-gradient(
            from 180deg,
            rgba(255, 215, 0, 0.0) 0deg,
            rgba(255, 215, 0, 0.85) 55deg,
            rgba(255, 193, 7, 0.25) 120deg,
            rgba(255, 215, 0, 0.0) 220deg,
            rgba(255, 215, 0, 0.65) 310deg,
            rgba(255, 215, 0, 0.0) 360deg
        );
    /* Ring mask */
    -webkit-mask: radial-gradient(circle, transparent 56%, #000 57%, #000 70%, transparent 71%);
    mask: radial-gradient(circle, transparent 56%, #000 57%, #000 70%, transparent 71%);
    filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.25));
    animation: ringSpin 0.95s linear infinite, ringPulse 1.6s ease-in-out infinite;
}

@keyframes shimmerTech {
    0% {
        transform: translateX(-120%) rotate(10deg);
    }

    100% {
        transform: translateX(120%) rotate(10deg);
    }
}

@keyframes ringSpin {
    to {
        transform: rotate(360deg);
    }
}

@keyframes ringPulse {
    0%,
    100% {
        opacity: 0.75;
        filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.18));
    }

    50% {
        opacity: 1;
        filter: drop-shadow(0 0 14px rgba(255, 215, 0, 0.32));
    }
}

@keyframes techIdle {
    0%,
    100% {
        box-shadow:
            0 10px 28px rgba(0, 0, 0, 0.16),
            inset 0 0 0 1px rgba(255, 215, 0, 0.06),
            inset 0 0 28px rgba(255, 215, 0, 0.05);
    }

    50% {
        box-shadow:
            0 12px 34px rgba(0, 0, 0, 0.18),
            inset 0 0 0 1px rgba(255, 215, 0, 0.10),
            inset 0 0 40px rgba(255, 215, 0, 0.08);
    }
}

@media (prefers-reduced-motion: reduce) {
    .gallery__placeholder,
    .gallery__placeholder::before,
    .gallery__placeholder::after {
        animation: none !important;
    }

    .gallery__placeholder::before {
        opacity: 0.6;
        transform: translateX(0) rotate(0);
    }
}

/* Responsive Gallery */
@media (min-width: 1400px) {
    .gallery {
        grid-template-columns: repeat(auto-fill, minmax(322px, 1fr));
    }
}

@media (max-width: 900px) {
    .gallery {
        grid-template-columns: repeat(auto-fill, minmax(253px, 1fr));
        gap: 16px;
    }
}

@media (max-width: 600px) {
    .gallery {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }

    .gallery__card {
        border-radius: 10px;
    }

    .gallery__placeholder {
        border-radius: 10px;
    }
}

/* Image Loading Animation */
.gallery__image--loading {
    opacity: 0;
}

.gallery__image--loaded {
    animation: fadeIn 0.25s ease-out forwards;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* Delete Button */
.gallery__delete-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    color: white;
    border-radius: 50%;
    font-size: 0.7rem;
    opacity: 0;
    transition: all 0.15s ease;
    z-index: 10;
}

.gallery__card:hover .gallery__delete-btn {
    opacity: 1;
}

.gallery__delete-btn:hover {
    background: #ef4444;
    transform: scale(1.1);
}

/* Delete Button Confirmation State */
.gallery__delete-btn--confirm {
    background: #dc2626;
    animation: confirmPulse 1.5s ease-in-out infinite;
}

.gallery__delete-btn--confirm:hover {
    background: #b91c1c;
    transform: scale(1.15);
}

@keyframes confirmPulse {

    0%,
    100% {
        box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7);
    }

    50% {
        box-shadow: 0 0 0 8px rgba(220, 38, 38, 0);
    }
}